<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ajax example</title>
  </head>
  <body>
    <h1>Country List</h1>
    <button type="button" name="button" href="#" id="mybutton" onclick="onClick();">Click Me!</button>
    <button type="button" name="button" href="#" id="clearButton" >Clear list!</button>
    <div id="list">
    </div>
    <script>
      function onClick() {
        var xhr = new XMLHttpRequest();
        xhr.open(
          'GET',
          'http://emerge.training/countries.xml',
          true);
        xhr.onreadystatechange = function() {
          if(xhr.readyState == 4) {
            var allElements = xhr.responseXML.getElementsByTagName('country');
            for (i = 0; i < allElements.length; i++) {
                document.getElementById('list').innerHTML += allElements[i].getAttribute('name') + "<br>";
            }
          }
        }
        xhr.send();
      }
      window.onload = function() {
        var clearButton = document.getElementById('clearButton');
        clearButton.onclick = function() {
            document.getElementById('list').innerHTML = "";
        }
      }
    </script>
  </body>
</html>
